Routes registered successfully
Attempting to start server...
Server running at http://127.0.0.1:3000
✅ WebSocket server attached to HTTP server
🔄 Upgrading to WebSocket for: /simple-remote/1
🔌 WebSocket connection established!
📝 Player connected: { matchId: '1', username: 'test2' }
📝 Player connected: test2 as Player 1
📊 Players in match 1: 1 players
🔑 Player keys: [ '1-test2-1756863788795-1' ]
🔄 Upgrading to WebSocket for: /simple-remote/1
🔌 WebSocket connection established!
📝 Player connected: { matchId: '1', username: 'sarora' }
📝 Player connected: sarora as Player 2
📊 Players in match 1: 2 players
🔑 Player keys: [ '1-test2-1756863788795-1', '1-sarora-1756863791189-2' ]
🎯 Both players connected! Starting game...
👥 Players: test2 (Player 1 ) vs sarora (Player 2 )
🎮 Game loop started for match 1
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'down' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keydown', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
📨 Received message: { type: 'input', inputType: 'keyup', key: 'up' }
🔌 Player disconnected: test2
🔌 Player disconnected: sarora
🛑 Game loop stopped for match 1
🗑️ Game state cleaned up for match 1
